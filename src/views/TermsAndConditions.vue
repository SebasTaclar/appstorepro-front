<template>
  <div class="terms-page">
    <div class="terms-container">
      <div class="terms-header">
        <button class="back-button" @click="goBack">
          <span class="icon">←</span>
          Volver
        </button>
        <h1>Términos y Condiciones</h1>
        <p class="last-update">Última actualización: 12 de octubre de 2025</p>
      </div>

      <div class="terms-content">
        <section class="terms-section">
          <h2>1. Información General</h2>
          <p>
            Bienvenido a AppsStore Pro. Al acceder y realizar compras en nuestra plataforma, aceptas cumplir con estos términos y condiciones.
            AppsStore Pro es una tienda en línea especializada en la venta de productos digitales, merchandising deportivo y artículos relacionados
            con equipos de fútbol profesional.
          </p>
        </section>

        <section class="terms-section">
          <h2>2. Productos y Servicios</h2>
          <p>
            Ofrecemos una variedad de productos que incluyen:
          </p>
          <ul>
            <li>Camisetas oficiales y réplicas de equipos de fútbol</li>
            <li>Merchandising deportivo (gorras, bufandas, banderines, etc.)</li>
            <li>Productos personalizados con nombres y números</li>
            <li>Artículos de colección y ediciones limitadas</li>
          </ul>
          <p>
            Nos reservamos el derecho de modificar, discontinuar o actualizar cualquier producto sin previo aviso.
            Las imágenes y descripciones de los productos son representativas y pueden variar ligeramente del producto real.
          </p>
        </section>

        <section class="terms-section">
          <h2>3. Precios y Pagos</h2>
          <p>
            Todos los precios mostrados en la plataforma están expresados en pesos colombianos (COP) e incluyen IVA cuando aplique.
            Los precios pueden cambiar sin previo aviso, pero los pedidos confirmados respetarán el precio vigente al momento de la compra.
          </p>
          <p>
            Aceptamos los siguientes métodos de pago:
          </p>
          <ul>
            <li>Tarjetas de crédito y débito (Visa, Mastercard, American Express)</li>
            <li>PSE (Pagos Seguros en Línea)</li>
            <li>Transferencias bancarias</li>
            <li>Pago contra entrega (según disponibilidad en tu ciudad)</li>
          </ul>
        </section>

        <section class="terms-section">
          <h2>4. Envíos y Entregas</h2>
          <p>
            <strong>Envío a domicilio:</strong> Realizamos envíos a nivel nacional. El costo de envío es de $15,000 COP para Bogotá
            y área metropolitana. Para otras ciudades, el costo puede variar según la ubicación. El tiempo estimado de entrega es de
            3 a 5 días hábiles en Bogotá y de 5 a 8 días hábiles en el resto del país.
          </p>
          <p>
            <strong>Recogida en tienda:</strong> Puedes recoger tu pedido sin costo adicional en nuestra tienda física ubicada en
            Centro comercial Unilago, Bogotá - Loc. 1-124, Cra. 15 # 78 - 33, Bogotá D.C. Recibirás una notificación cuando tu pedido esté listo para ser recogido. Horario de atención:
            Lunes a Sábado de 9:30 AM a 7:00 PM. Domingos cerrado.
          </p>
          <p>
            No nos hacemos responsables por retrasos en la entrega causados por la empresa de mensajería, condiciones climáticas,
            eventos de fuerza mayor o información de contacto incorrecta proporcionada por el cliente.
          </p>
        </section>

        <section class="terms-section">
          <h2>5. Cambios y Devoluciones</h2>
          <p>
            Aceptamos cambios y devoluciones dentro de los 15 días posteriores a la recepción del producto, siempre que:
          </p>
          <ul>
            <li>El producto esté en su empaque original y sin uso</li>
            <li>Se conserven todas las etiquetas y accesorios</li>
            <li>Se presente el comprobante de compra</li>
          </ul>
          <p>
            <strong>Productos no elegibles para devolución:</strong>
          </p>
          <ul>
            <li>Productos personalizados (con nombres o números)</li>
            <li>Artículos en oferta o liquidación marcados como "venta final"</li>
            <li>Productos que muestren signos de uso, lavado o daño</li>
          </ul>
          <p>
            Para iniciar un proceso de cambio o devolución, contacta nuestro servicio al cliente a través de
            nuestro Instagram o correo electrónico. Los costos de envío para devoluciones corren por cuenta del cliente,
            excepto en casos de productos defectuosos o error en el envío.
          </p>
        </section>

        <section class="terms-section">
          <h2>6. Garantía de Productos</h2>
          <p>
            Todos nuestros productos cuentan con garantía contra defectos de fabricación. Si recibes un producto defectuoso,
            contáctanos dentro de los 30 días siguientes a la compra para gestionar el cambio sin costo adicional.
          </p>
          <p>
            La garantía no cubre:
          </p>
          <ul>
            <li>Daños causados por uso inadecuado o accidental</li>
            <li>Desgaste normal del producto</li>
            <li>Alteraciones o modificaciones realizadas por el cliente</li>
            <li>Daños causados por lavado incorrecto o no seguir las instrucciones de cuidado</li>
          </ul>
        </section>

        <section class="terms-section">
          <h2>7. Política de Privacidad</h2>
          <p>
            Nos comprometemos a proteger tu información personal. Los datos recopilados (nombre, correo electrónico, dirección, teléfono)
            se utilizan únicamente para:
          </p>
          <ul>
            <li>Procesar y entregar tu pedido</li>
            <li>Enviarte actualizaciones sobre el estado de tu compra</li>
            <li>Mejorar nuestros servicios y experiencia de usuario</li>
            <li>Enviarte promociones y ofertas (solo si autorizas suscribirte)</li>
          </ul>
          <p>
            No compartimos tu información con terceros, excepto cuando sea necesario para completar tu pedido
            (empresas de mensajería, procesadores de pago). Puedes solicitar la eliminación de tus datos en cualquier momento
            contactándonos directamente.
          </p>
        </section>

        <section class="terms-section">
          <h2>8. Propiedad Intelectual</h2>
          <p>
            Todo el contenido de este sitio web, incluyendo imágenes, logos, diseños, textos y marca, es propiedad de AppsStore Pro
            o de sus respectivos titulares de licencia. Está prohibida la reproducción, distribución o uso comercial sin autorización expresa.
          </p>
          <p>
            Las marcas de equipos de fútbol, escudos y logos mostrados son propiedad de sus respectivos clubes y federaciones.
            Actuamos como distribuidor autorizado de productos oficiales con licencia.
          </p>
        </section>

        <section class="terms-section">
          <h2>9. Responsabilidades del Usuario</h2>
          <p>Al utilizar nuestra plataforma, te comprometes a:</p>
          <ul>
            <li>Proporcionar información veraz y actualizada</li>
            <li>No utilizar la plataforma para actividades ilegales o fraudulentas</li>
            <li>No intentar acceder a áreas restringidas del sistema</li>
            <li>Respetar los derechos de propiedad intelectual</li>
            <li>Mantener la confidencialidad de tu cuenta (si creas una)</li>
          </ul>
        </section>

        <section class="terms-section">
          <h2>10. Limitación de Responsabilidad</h2>
          <p>
            AppsStore Pro no se hace responsable por:
          </p>
          <ul>
            <li>Daños indirectos, incidentales o consecuentes derivados del uso de productos</li>
            <li>Interrupciones del servicio por mantenimiento o problemas técnicos</li>
            <li>Pérdida de datos o información durante el proceso de compra</li>
            <li>Resultados deportivos de los equipos cuyos productos comercializamos</li>
          </ul>
          <p>
            Nuestra responsabilidad máxima en cualquier caso no excederá el valor del producto adquirido.
          </p>
        </section>

        <section class="terms-section">
          <h2>11. Modificaciones de los Términos</h2>
          <p>
            Nos reservamos el derecho de actualizar estos términos y condiciones en cualquier momento.
            Los cambios serán efectivos inmediatamente después de su publicación en el sitio web.
            Es tu responsabilidad revisar periódicamente estos términos. El uso continuo de la plataforma
            después de la publicación de cambios constituye tu aceptación de los mismos.
          </p>
        </section>

        <section class="terms-section">
          <h2>12. Contacto y Atención al Cliente</h2>
          <p>
            Para cualquier consulta, reclamo o solicitud relacionada con estos términos y condiciones,
            puedes contactarnos a través de:
          </p>
          <ul>
            <li><strong>Instagram:</strong> @appsstorepro</li>
            <li><strong>Correo electrónico:</strong> contacto@appsstorepro.com</li>
            <li><strong>Teléfono:</strong> +57 (1) 234-5678</li>
            <li><strong>Dirección física:</strong> Centro comercial Unilago, Bogotá - Loc. 1-124, Cra. 15 # 78 - 33, Bogotá D.C.</li>
          </ul>
          <p>
            Nuestro equipo de atención al cliente está disponible de lunes a sábado de 9:30 AM a 7:00 PM.
            Domingos cerrado.
          </p>
        </section>

        <section class="terms-section">
          <h2>13. Jurisdicción y Ley Aplicable</h2>
          <p>
            Estos términos y condiciones se rigen por las leyes de la República de Colombia.
            Cualquier disputa que surja en relación con estos términos será sometida a la jurisdicción
            exclusiva de los tribunales competentes de Bogotá, Colombia.
          </p>
        </section>

        <div class="acceptance-section">
          <div class="checkbox-container">
            <label class="checkbox-label">
              <input
                v-model="termsAccepted"
                type="checkbox"
              >
              <span>He leído y acepto los términos y condiciones de AppsStore Pro</span>
            </label>
          </div>
          <button
            class="btn-accept"
            :disabled="!termsAccepted"
            @click="acceptAndGoBack"
          >
            Aceptar y continuar
          </button>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter()
const termsAccepted = ref(false)

const goBack = () => {
  // Si hay historial, volver atrás, si no cerrar o ir al home
  if (window.history.length > 1) {
    router.back()
  } else {
    window.close()
    // Si no se puede cerrar (navegador lo bloquea), ir al home
    setTimeout(() => {
      router.push('/')
    }, 100)
  }
}

const acceptAndGoBack = () => {
  if (termsAccepted.value) {
    // Guardar aceptación en sessionStorage (solo para esta sesión)
    sessionStorage.setItem('termsAccepted', 'true')
    console.log('✅ Términos aceptados guardados en sessionStorage:', sessionStorage.getItem('termsAccepted'))

    // Si hay historial, volver atrás, si no cerrar o ir al home
    if (window.history.length > 1) {
      router.back()
    } else {
      window.close()
      // Si no se puede cerrar, ir al home
      setTimeout(() => {
        router.push('/')
      }, 100)
    }
  }
}
</script>

<style scoped>
.terms-page {
  min-height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 5rem 1rem;
}

.terms-container {
  max-width: 900px;
  margin: 0 auto;
  background: white;
  border-radius: 16px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  overflow: hidden;
}

.terms-header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 2rem;
  text-align: center;
  position: relative;
}

.back-button {
  position: absolute;
  top: 1.5rem;
  left: 1.5rem;
  background: rgba(255, 255, 255, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.9rem;
  transition: all 0.3s ease;
}

.back-button:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: translateX(-3px);
}

.back-button .icon {
  font-size: 1.2rem;
}

.terms-header h1 {
  margin: 0;
  font-size: 2rem;
  font-weight: 700;
}

.last-update {
  margin: 0.5rem 0 0 0;
  font-size: 0.9rem;
  opacity: 0.9;
}

.terms-content {
  padding: 2rem;
  max-height: 70vh;
  overflow-y: auto;
}

.terms-section {
  margin-bottom: 2rem;
}

.terms-section h2 {
  color: #667eea;
  font-size: 1.5rem;
  margin-bottom: 1rem;
  border-bottom: 2px solid #667eea;
  padding-bottom: 0.5rem;
}

.terms-section p {
  color: #333;
  line-height: 1.8;
  margin-bottom: 1rem;
  text-align: justify;
}

.terms-section ul {
  margin: 1rem 0;
  padding-left: 1.5rem;
}

.terms-section li {
  color: #555;
  line-height: 1.8;
  margin-bottom: 0.5rem;
}

.terms-section strong {
  color: #667eea;
  font-weight: 600;
}

.acceptance-section {
  background: #f8f9fa;
  padding: 2rem;
  border-radius: 12px;
  margin-top: 2rem;
  text-align: center;
}

.checkbox-container {
  margin-bottom: 1.5rem;
}

.checkbox-label {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  cursor: pointer;
  font-size: 1rem;
  color: #333;
}

.checkbox-label input[type="checkbox"] {
  width: 20px;
  height: 20px;
  cursor: pointer;
  accent-color: #667eea;
}

.btn-accept {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: white;
  border: none;
  padding: 1rem 3rem;
  border-radius: 12px;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
}

.btn-accept:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
}

.btn-accept:disabled {
  background: #ccc;
  cursor: not-allowed;
  box-shadow: none;
}

/* Scrollbar personalizada */
.terms-content::-webkit-scrollbar {
  width: 8px;
}

.terms-content::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 10px;
}

.terms-content::-webkit-scrollbar-thumb {
  background: #667eea;
  border-radius: 10px;
}

.terms-content::-webkit-scrollbar-thumb:hover {
  background: #764ba2;
}

/* Responsive */
@media (max-width: 768px) {
  .terms-page {
    padding: 1rem 0.5rem;
  }

  .terms-header h1 {
    font-size: 1.5rem;
    margin-top: 2rem;
  }

  .back-button {
    top: 1rem;
    left: 1rem;
    padding: 0.4rem 0.8rem;
    font-size: 0.85rem;
  }

  .terms-content {
    padding: 1.5rem;
    max-height: 60vh;
  }

  .terms-section h2 {
    font-size: 1.2rem;
  }

  .terms-section p,
  .terms-section li {
    font-size: 0.95rem;
  }

  .acceptance-section {
    padding: 1.5rem;
  }

  .btn-accept {
    padding: 0.9rem 2rem;
    font-size: 1rem;
  }
}
</style>
